"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{5797:(e,t,r)=>{r.d(t,{A1:()=>i,rq:()=>l,yq:()=>s});let a="tankData",s=()=>{try{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading tanks from localStorage:",e),[]}},i=e=>{try{let t=s(),r={...e,id:e.id||"#".concat(Math.floor(9e6*Math.random())+1e6),senastUppdaterad:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})+" | "+new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),createdAt:new Date().toISOString(),totalVolym:e.totalVolym||"5000",tillverkare:e.tillverkare||"",produkt:e.produkt||"Diesel",registreringsdatum:e.registreringsdatum||"2019-05-22",modell:e.modell||"X2921-221911",serienummer:e.serienummer||"CI3939494-2223-111-2",detalj5:e.detalj5||"",senasteBesiktning:e.senasteBesiktning||"",detalj4:e.detalj4||"",detalj6:e.detalj6||"2019-05-22",kommentar:e.kommentar||"",fyllnadsvolym:e.fyllnadsvolym||e.totalVolym||"4800",volym:e.volym||e.totalVolym||"5000",namn:e.namn||"Cistern ".concat(e.id||"Ny"),senasteService:e.senasteService||"2024-11-12",services:e.services||{besiktningsbevakning:{active:!1,price:"119 kr/m\xe5n"},nivabehakning:{active:!1,price:"Prisf\xf6rfr\xe5gan"},gpsPositionering:{active:!1,price:"Prisf\xf6rfr\xe5gan"},tillaggstjanst4:{active:!1,price:"1st + 10 kr/m\xe5n"},pafyllning:{active:!1,price:"Pris via leverant\xf6r"},transport:{active:!1,price:"Pris via leverant\xf6r"},service:{active:!1,price:"Pris via leverant\xf6r"},besiktning:{active:!1,price:"Pris via leverant\xf6r"}},accessories:e.accessories||["Pump Fill-Rite 700","\xd6verfyllnadsskydd (Standard)","T/V Ventil med flammd\xe4mpare"]},i=[...t,r];return localStorage.setItem(a,JSON.stringify(i)),!0}catch(e){return console.error("Error saving tank to localStorage:",e),!1}},l=e=>s().find(t=>t.id===e)},6522:(e,t,r)=>{r.d(t,{default:()=>l});var a=r(5155),s=r(2115),i=r(63);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!0),o=(0,i.useRouter)();return((0,s.useEffect)(()=>{(()=>{try{let e=JSON.parse(localStorage.getItem("fuelpoolUsers")||"[]");if(0===e.length)return void o.push("/register");l(!0)}catch(e){console.error("Error checking authentication:",e),o.push("/register")}finally{c(!1)}})()},[o]),n)?(0,a.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-gray-900/60",children:(0,a.jsx)("div",{className:"text-white text-lg",children:"Laddar..."})}):r?t:null}},8997:(e,t,r)=>{r.d(t,{default:()=>o});var a=r(5155),s=r(2115),i=r(5239),l=r(63);let n=e=>{let{onToggle:t}=e;return(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-6 min-h-[64px]",children:[(0,a.jsxs)("div",{className:"inline-flex justify-start items-center gap-5",children:[(0,a.jsx)("div",{className:"w-10 h-10 relative",children:(0,a.jsx)(i.default,{src:"/fuelpool.svg",alt:"Fuelpool Logo",width:36,height:40,className:"w-9 h-10 left-[0.5px] top-0 absolute"})}),(0,a.jsx)("button",{onClick:t,className:"w-5 h-5 relative hidden sm:block",children:(0,a.jsx)("img",{src:"/bars.svg",className:"w-5 h-5",alt:"Menu"})})]}),(0,a.jsx)("button",{onClick:t,className:"w-5 h-5 relative sm:hidden",children:(0,a.jsx)("img",{src:"/bars.svg",className:"w-5 h-5",alt:"Menu"})})]})},c=e=>{let{isVisible:t,shouldAnimate:r}=e,[i,n]=(0,s.useState)(()=>"true"===localStorage.getItem("cisternerExpanded")),c=(0,l.useRouter)(),o=(0,l.usePathname)();if((0,s.useEffect)(()=>{localStorage.setItem("cisternerExpanded",i.toString())},[i]),!t)return null;let d=e=>{c.push(e)},g=()=>o.startsWith("/cisterner/");return(0,a.jsx)("div",{className:"absolute left-0 top-0 bg-white border-r border-gray-200 h-full z-10 ".concat(t?r?"animate-slide-in":"w-64":"w-0"),children:(0,a.jsx)("div",{className:"flex flex-col h-full",children:(0,a.jsxs)("div",{className:"flex-1 px-3 py-4 flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"px-2 py-1.5 rounded-lg inline-flex justify-start items-center hover:bg-gray-100 cursor-pointer ".concat("/dashboard"===o?"bg-gray-100":""),onClick:()=>d("/dashboard"),children:(0,a.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,a.jsx)("img",{src:"/chart-pie.svg",className:"w-4 h-4 ".concat("/dashboard"===o?"text-gray-900":"text-gray-400"),alt:"Dashboard"}),(0,a.jsx)("div",{className:"font-medium font-inter leading-normal overflow-hidden whitespace-nowrap ".concat("/dashboard"===o?"text-gray-900":"text-gray-400"),style:{fontSize:"14px"},children:"Dashboard"})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"px-2 py-1.5 rounded-lg inline-flex justify-between items-center cursor-pointer ".concat(g()?"bg-gray-100":"hover:bg-gray-100"),onClick:()=>{n(!i)},children:[(0,a.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,a.jsx)("img",{src:"/newspapper.svg",className:"w-4 h-4 ".concat(g()?"text-gray-900":"text-gray-400"),style:{filter:g()?"none":"opacity(0.5)"},alt:"Cisterner"}),(0,a.jsx)("div",{className:"font-medium font-inter leading-normal overflow-hidden whitespace-nowrap ".concat(g()?"text-gray-900":"text-gray-400"),style:{fontSize:"14px"},children:"Cisterner"})]}),(0,a.jsx)("img",{src:"/chevron-up.svg",className:"w-3 h-3 text-gray-900 transition-transform ".concat(i?"rotate-180":""),alt:"Expand"})]}),i&&(0,a.jsxs)("div",{className:"pl-11 flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"font-medium font-inter leading-normal hover:text-gray-600 cursor-pointer overflow-hidden whitespace-nowrap ".concat("/cisterner/mina-cisterner"===o?"text-gray-900":"text-gray-400"),style:{fontSize:"14px"},onClick:()=>d("/cisterner/mina-cisterner"),children:"Mina Cisterner"}),(0,a.jsx)("div",{className:"font-medium font-inter leading-normal hover:text-gray-600 cursor-pointer overflow-hidden whitespace-nowrap ".concat("/cisterner/skapa-cistern"===o?"text-gray-900":"text-gray-400"),style:{fontSize:"14px"},onClick:()=>d("/cisterner/skapa-cistern"),children:"Skapa Cistern"})]})]}),(0,a.jsx)("div",{className:"px-2 py-1.5 rounded-lg inline-flex justify-start items-center hover:bg-gray-100 cursor-pointer ".concat("/login"===o?"bg-gray-100":""),onClick:()=>{d("/login")},children:(0,a.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,a.jsx)("img",{src:"/user.svg",className:"w-4 h-4 ".concat("/login"===o?"text-gray-900":"text-gray-400"),alt:"Logout"}),(0,a.jsx)("div",{className:"font-medium font-inter leading-normal overflow-hidden whitespace-nowrap ".concat("/login"===o?"text-gray-900":"text-gray-400"),style:{fontSize:"14px"},children:"Logga ut"})]})})]})})})};function o(e){let{children:t}=e,[r,i]=(0,s.useState)(()=>localStorage.getItem("sidebarState")||"expanded"),[l,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{localStorage.setItem("sidebarState",r)},[r]),(0,s.useEffect)(()=>{if(l){let e=setTimeout(()=>{o(!1)},150);return()=>clearTimeout(e)}},[l]);let d="hidden"!==r;return(0,a.jsx)("div",{className:"layout-container flex h-screen bg-white overflow-hidden",children:(0,a.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,a.jsx)(n,{onToggle:()=>{"hidden"===r?(i("expanded"),o(!0)):(i("hidden"),o(!1))}}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden relative",children:[(0,a.jsx)(c,{isVisible:d,shouldAnimate:l}),(0,a.jsx)("div",{className:"flex-1 flex flex-col bg-gray-100 min-w-0 bg-gray-100",children:(0,a.jsx)("main",{className:"flex-1 overflow-auto bg-gray-100 p-[16px]",children:t})})]})]})})}}}]);